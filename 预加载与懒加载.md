# 预加载与懒加载
***
## .预加载
1. 什么是预加载？

     提前加载图片，当用户需要查看时可直接从本地缓存中加载。
     
2. 为什么要用？

   图片预先加载到浏览器中，访问者便可顺利地在你的网站上冲浪，并享受到极快的加载速度。这对图片画廊及图片占据很大比例的网站来说十分有利，它保证了图片快速、无缝地发布，也可帮助用户在浏览你网站内容时获得更好的用户体验。
   
3. 实现预加载的方法

一：用CSS和JavaScript实现预加载

二：仅使用JavaScript实现预加载

三：使用Ajax实现预加载

[我是方法](http://www.csdn.net/article/2013-10-15/2817187-3-ways-preload-images-css-javascript-ajax)
***

## .懒加载
1. 什么是懒加载

    当访问一个页面的时候，先把img元素或是其他元素的背景图片路径替换成一张大小为1*1px图片的路径（这样就只需请求一次，俗称占位图），只有当图片出现在浏览器的可视区域内时，才设置图片正真的路径，让图片显示出来。这就是图片懒加载。

2. 为什么要用

   很多页面，内容很丰富，页面很长，图片较多。比如说各种商城页面。这些页面图片数量多，而且比较大，少说百来K，多则上兆。要是页面载入就一次性加载完毕。估计大家都会等到黄花变成黄花菜了。
   
3. 实现懒加载的方法

 (1)首先，不要将图片地址放到src属性中，而是放到其它属性(data-original)中。

  (2)页面加载完成后，根据scrollTop判断图片是否在用户的视野内，如果在，则将data-original属性中的值取出存放到src属性中。

  (3)在滚动事件中重复判断图片是否进入视野，如果进入，则将data-original属性中的值取出存放到src属性中。
  
  ***
  ## 对&&比
  (1)概念：
懒加载也叫延迟加载：JS图片延迟加载,延迟加载图片或符合某些条件时才加载某些图片。
预加载：提前加载图片，当用户需要查看时可直接从本地缓存中渲染。

(2)区别：
两种技术的本质：两者的行为是相反的，一个是提前加载，一个是迟缓甚至不加载。懒加载对服务器前端有一定的缓解压力作用，预加载则会增加服务器前端压力。

(3)懒加载的意义及实现方式：

意义：懒加载的主要目的是作为服务器前端的优化，减少请求数或延迟请求数。

实现方式：
1.纯粹的延迟加载，使用setTimeOut或setInterval进行加载延迟.

2.条件加载，符合某些条件，或触发了某些事件才开始异步下载。

3.可视区加载，即仅加载用户可以看到的区域，这个主要由监控滚动条来实现，一般会在距用户看到某图片前一定距离遍开始加载，这样能保证用户拉下时正好能看到图片。

(4)预加载的意义及实现方式：

意义:预加载可以说是牺牲服务器前端性能，换取更好的用户体验，这样可以使用户的操作得到最快的反映。

实现方式：
实现预载的方法非常多，

比如：用CSS和JavaScript实现预加载；

仅使用JavaScript实现预加载；

使用Ajax实现预加载。

常用的是new Image(),设置其src来实现预载，再使用onload方法回调预载完成事件。只要浏览器把图片下载到本地，同样的src就会使用缓存，这是最基本也是最实用的预载方法。当Image下载完图片头后，会得到宽和高，因此可以在预载前得到图片的大小(方法是用记时器轮循宽高变化)。